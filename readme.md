# TODO

Api для работы с задачами и досками, реализована авторизация на 2-х токенах, а также написан телеграм-бот, который отвечает за отправки уведомлений.

Задача - сделать правильно и красиво, что подразумевает четкую структуру и реализацию слоев, а также разделение их по смыслу, то есть storage инициализируется в общем файле, где в структуру передаются отдельные файлы, взаимодействующие с бд, реализующие методы для пользователя, задачи, доски или статуса. Аналогично сделаны и другие слои.

# Мотивация проекта

Раширить знания о разработке Api-приложений, реализовать авторизацию на 2-х токенах, ознакомится с различными архитектурами приложений, реализовать монолитную архитектуру, практика в использовании Docker и Docker Compose.

# Описание работы приложение

Приложение реализует следующий функционал:

- POST /user/registration — регистрация нового пользователя.

- POST /user/login — авторизация пользователя.

- GET /user — получение текущего авторизованного пользователя.

- DELETE /user/logout — выход из системы.

- GET /boards — получение всех досок текущего пользователя.

- GET /boards/{id} — получение конкретной доски по идентификатору.

- POST /boards/{id} — добавление пользователя по id к доске.

- POST /boards — создание новой доски.

- PUT /boards/{id} — редактирование доски.

- DELETE /boards/{id} — удаление доски с каскадным удалением задач.

- GET /tasks — получение всех задач текущего пользователя.

- GET /tasks/{id} — получение конкретной задачи по идентификатору.

- POST /tasks — создание новой задачи.

- PUT /tasks/{id} — редактирование задачи.

- DELETE /tasks/{id} — удаление задачи.

- POST /status — создание нового статуса для задач.

- DELETE /status — удаление существующего статуса.

# Телеграм бот

Бот регистрирует чат, команда /start в боте добавляет chatID соответствующему пользователю, также бот отправляет уведомление о создании новой задачи и в 00:00 присылает список текущих задач и выполненных задач за сегодняшний день

# Работа с приложением

Для запуска сервиса TODO необходимо создать файл .env с переменными описанными в .env.example, поднять docker-compose, применить миграции, запустив файл cmd/migrator/migrator.go.

Далее следует зарегистрировать по роуту /api/user/register, отправив в json:
{
  "username": "",
  "tg_name": "",
  "password": ""
}

После отправить в бота команду /start

Далее вход по роуту /api/user/login для получения токена с json:
{
  "username": "",
  "password": ""
}

После этого можно использовать все методы для работы с задачами и досками